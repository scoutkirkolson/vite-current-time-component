{"version":3,"file":"vite-current-time-min.js","sources":["../plugin-vue:export-helper","../src/components/CurrentTime.ce.vue","../src/build.es.js"],"sourcesContent":["\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n  <div class=\"current-time-component\" :id=\"id\">\n    <slot name=\"prefix\" />\n    {{ displayTime }} ...\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, watch, onMounted } from 'vue';\n\nconst props = defineProps({\n  id: {\n    type: String,\n    default: '',\n  },\n  timeZone: {\n    type: String,\n    default: 'Europe/Amsterdam',\n  },\n});\n\nconst emit = defineEmits(['datechange']);\n\nconst currentDateTime = ref(new Date());\nconst currentTimeZone = ref(props.timeZone);\n\nconsole.log('props', props)\n\nconst displayTime = computed(() =>\n  currentDateTime.value.toLocaleString('nl-NL', {\n    timeZone: currentTimeZone.value || 'Europe/Amsterdam',\n  })\n);\n\nfunction changeTimeZone(event) {\n  console.log('changeTimeZone', event.detail)\n  currentTimeZone.value = event.detail?.timeZone || 'Europe/Amsterdam'\n}\n\nfunction listenEvents() {\n  console.log('listenEvents', props)\n  document\n    .querySelector(props.id ? ('#' + props.id) : 'current-time')\n    .addEventListener('timezonechange', changeTimeZone)\n  //document.addEventListener('timezonechange', changeTimeZone)\n}\n\nonMounted(listenEvents)\n\nsetInterval(() => {\n  currentDateTime.value = new Date();\n  emit('datechange', displayTime);\n}, 1000);\n</script>\n\n<style>\n.current-time-component {\n  color: purple;\n}\n</style>\n","import { defineCustomElement } from 'vue'\n\nimport CurrentTime from './components/CurrentTime.ce.vue'\n\nimport './style.css'\n\nconst CurrentTimeComponent = defineCustomElement(CurrentTime)\n\nif (!customElements.get('current-time')) {\n    customElements.define('current-time', CurrentTimeComponent)\n}\n\nexport { CurrentTime }\n"],"names":["_export_sfc","sfc","props","target","key","val","currentDateTime","ref","currentTimeZone","displayTime","computed","changeTimeZone","event","listenEvents","onMounted","emit","CurrentTimeComponent","defineCustomElement","CurrentTime"],"mappings":";;GACAA,IAAe,CAACC,GAAKC,MAAU;AAC7B,QAAMC,IAASF,EAAI,aAAaA;AAChC,aAAW,CAACG,GAAKC,CAAG,KAAKH;AACvB,IAAAC,EAAOC,CAAG,IAAIC;AAEhB,SAAOF;AACT;;;;;;;;;;;;;;iBCgBMG,IAAkBC,EAAI,oBAAI,KAAI,CAAE,GAChCC,IAAkBD,EAAIL,EAAM,QAAQ;AAE1C,YAAQ,IAAI,SAASA,CAAK;AAE1B,UAAMO,IAAcC;AAAA,MAAS,MAC3BJ,EAAgB,MAAM,eAAe,SAAS;AAAA,QAC5C,UAAUE,EAAgB,SAAS;AAAA,MACvC,CAAG;AAAA,IACH;AAEA,aAASG,EAAeC,GAAO;AAC7B,cAAQ,IAAI,kBAAkBA,EAAM,MAAM,GAC1CJ,EAAgB,QAAQI,EAAM,QAAQ,YAAY;AAAA,IACpD;AAEA,aAASC,IAAe;AACtB,cAAQ,IAAI,gBAAgBX,CAAK,GACjC,SACG,cAAcA,EAAM,KAAM,MAAMA,EAAM,KAAM,cAAc,EAC1D,iBAAiB,kBAAkBS,CAAc;AAAA,IAEtD;AAEA,WAAAG,EAAUD,CAAY,GAEtB,YAAY,MAAM;AAChB,MAAAP,EAAgB,QAAQ,oBAAI,QAC5BS,EAAK,cAAcN,CAAW;AAAA,IAChC,GAAG,GAAI;;;;;;;;;AC9CP,MAAMO,IAAuBC,EAAoBC,CAAW;AAEvD,eAAe,IAAI,cAAc,KAClC,eAAe,OAAO,gBAAgBF,CAAoB;"}