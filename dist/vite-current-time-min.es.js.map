{"version":3,"file":"vite-current-time-min.es.js","sources":["../plugin-vue:export-helper","../components/CurrentTime.ce.vue","../main.js"],"sourcesContent":["\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n  <div class=\"current-time-component\" >\n    <slot name=\"prefix\" />\n    {{ displayTime }} ...\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, watch, onMounted } from 'vue';\n\nconst props = defineProps({\n  id: {\n    type: String,\n    default: '',\n  },\n  timeZone: {\n    type: String,\n    default: 'Europe/Amsterdam',\n  },\n});\n\nconst emit = defineEmits(['datechange']);\n\nconst currentDateTime = ref(new Date());\nconst currentTimeZone = ref(props.timeZone);\n\nconst displayTime = computed(() =>\n  currentDateTime.value.toLocaleString('nl-NL', {\n    timeZone: currentTimeZone.value,\n  })\n);\n\nfunction changeTimeZone(event) {\n  console.log('changeTimeZone', event.detail)\n  currentTimeZone.value = event.detail?.timeZone || 'Europe/Amsterdam'\n}\n\nfunction listenEvents() {\n  console.log('listenEvents', props)\n  document\n    .querySelector(props.id ? ('#' + props.id) : 'current-time')\n    .addEventListener('timezonechange', changeTimeZone)\n  //document.addEventListener('timezonechange', changeTimeZone)\n}\n\nonMounted(listenEvents)\n\nsetInterval(() => {\n  currentDateTime.value = new Date();\n  emit('datechange', displayTime);\n}, 1000);\n</script>\n\n<style>\n.current-time-component {\n  color: green;\n}\n</style>\n","import './style.css';\nimport { defineCustomElement } from 'vue';\nimport CurrentTime from './components/CurrentTime.ce.vue';\n\nconst CurrentTimeComponent = defineCustomElement(CurrentTime);\n\ncustomElements.define('current-time', CurrentTimeComponent);\n\nexport default CurrentTime"],"names":[],"mappings":";;;;;;AACA,kBAAe,CAAC,GAAG,EAAE,KAAK,KAAK;AAC/B,EAAE,MAAM,MAAM,GAAG,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC;AACtC,EAAE,KAAK,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,KAAK,EAAE;AAClC,IAAI,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AACtB,GAAG;AACH,EAAE,OAAO,MAAM,CAAC;AAChB;;;ACEA;;;;;;;;;;;;;;;;;;AAFc;AAYX;AACH;AACyC;AACzC;AACA,MAAM,eAAe,GAAG,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;AACxC,MAAM,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC5C;AACA,MAAM,WAAW,GAAG,QAAQ,CAAC;AAC7B,EAAE,eAAe,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,EAAE;AAChD,IAAI,QAAQ,EAAE,eAAe,CAAC,KAAK;AACnC,GAAG,CAAC;AACJ,CAAC,CAAC;AACF;AACA,SAAS,cAAc,CAAC,KAAK,EAAE;AAC/B,EAAE,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,MAAM,EAAC;AAC7C,EAAE,eAAe,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,QAAQ,IAAI,mBAAkB;AACtE,CAAC;AACD;AACA,SAAS,YAAY,GAAG;AACxB,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,EAAC;AACpC,EAAE,QAAQ;AACV,KAAK,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI,cAAc,CAAC;AAChE,KAAK,gBAAgB,CAAC,gBAAgB,EAAE,cAAc,EAAC;AACvD;AACA,CAAC;AACD;AACA,SAAS,CAAC,YAAY,EAAC;AACvB;AACA,WAAW,CAAC,MAAM;AAClB,EAAE,eAAe,CAAC,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;AACrC,EAAE,IAAI,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;AAClC,CAAC,EAAE,IAAI,CAAC,CAAC;;;;;;;;;;;;;AC9CT,MAAM,oBAAoB,GAAG,mBAAmB,CAAC,WAAW,CAAC,CAAC;AAC9D;AACA,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE,oBAAoB,CAAC;;;;"}