{"version":3,"file":"vite-current-time-min.umd.js","sources":["../plugin-vue:export-helper","../components/CurrentTime.ce.vue","../main.js"],"sourcesContent":["\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n  <div class=\"current-time-component\" >\n    <slot name=\"prefix\" />\n    {{ displayTime }} ...\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, watch, onMounted } from 'vue';\n\nconst props = defineProps({\n  id: {\n    type: String,\n    default: '',\n  },\n  timeZone: {\n    type: String,\n    default: 'Europe/Amsterdam',\n  },\n});\n\nconst emit = defineEmits(['datechange']);\n\nconst currentDateTime = ref(new Date());\nconst currentTimeZone = ref(props.timeZone);\n\nconst displayTime = computed(() =>\n  currentDateTime.value.toLocaleString('nl-NL', {\n    timeZone: currentTimeZone.value,\n  })\n);\n\nfunction changeTimeZone(event) {\n  console.log('changeTimeZone', event.detail)\n  currentTimeZone.value = event.detail?.timeZone || 'Europe/Amsterdam'\n}\n\nfunction listenEvents() {\n  console.log('listenEvents', props)\n  document\n    .querySelector(props.id ? ('#' + props.id) : 'current-time')\n    .addEventListener('timezonechange', changeTimeZone)\n  //document.addEventListener('timezonechange', changeTimeZone)\n}\n\nonMounted(listenEvents)\n\nsetInterval(() => {\n  currentDateTime.value = new Date();\n  emit('datechange', displayTime);\n}, 1000);\n</script>\n\n<style>\n.current-time-component {\n  color: green;\n}\n</style>\n","import './style.css';\nimport { defineCustomElement } from 'vue';\nimport CurrentTime from './components/CurrentTime.ce.vue';\n\nconst CurrentTimeComponent = defineCustomElement(CurrentTime);\n\ncustomElements.define('current-time', CurrentTimeComponent);\n\nexport default CurrentTime"],"names":["_export_sfc","sfc","props","target","key","val","currentDateTime","ref","currentTimeZone","displayTime","computed","changeTimeZone","event","listenEvents","vue","emit","CurrentTimeComponent","defineCustomElement","CurrentTime"],"mappings":";EACAA,EAAe,CAACC,EAAKC,IAAU,CAC7B,MAAMC,EAASF,EAAI,WAAaA,EAChC,SAAW,CAACG,EAAKC,CAAG,IAAKH,EACvBC,EAAOC,GAAOC,EAEhB,OAAOF,CACT,mNCgBMG,EAAkBC,EAAG,IAAC,IAAI,IAAM,EAChCC,EAAkBD,EAAG,IAACL,EAAM,QAAQ,EAEpCO,EAAcC,EAAAA,SAAS,IAC3BJ,EAAgB,MAAM,eAAe,QAAS,CAC5C,SAAUE,EAAgB,KAC9B,CAAG,CACH,EAEA,SAASG,EAAeC,EAAO,CAC7B,QAAQ,IAAI,iBAAkBA,EAAM,MAAM,EAC1CJ,EAAgB,MAAQI,EAAM,QAAQ,UAAY,kBACpD,CAEA,SAASC,GAAe,CACtB,QAAQ,IAAI,eAAgBX,CAAK,EACjC,SACG,cAAcA,EAAM,GAAM,IAAMA,EAAM,GAAM,cAAc,EAC1D,iBAAiB,iBAAkBS,CAAc,CAEtD,CAES,OAAAG,EAAA,UAACD,CAAY,EAEtB,YAAY,IAAM,CAChBP,EAAgB,MAAQ,IAAI,KAC5BS,EAAK,aAAcN,CAAW,CAChC,EAAG,GAAI,4KC9CP,MAAMO,EAAuBC,EAAAA,oBAAoBC,CAAW,EAE5D,sBAAe,OAAO,eAAgBF,CAAoB"}